#
# ------------------------------------------------------------------------------------------------
# File:   vision_input.py
# Author: Luis Monteiro
#
# Created on oct 8, 2019, 22:00 PM
# ------------------------------------------------------------------------------------------------
# external
from cv2                  import VideoCapture                 
# internal
from library.vision_input import VisionInput
# -----------------------------------------------------------------------------
# VisionOutput 
# -----------------------------------------------------------------------------
#
class VisionInputCamera(VisionInput):
	#
	# -----------------------------------------------------
	# initialization
	# -----------------------------------------------------
	#
	def __init__(self, source=0):
		self.__resource = VideoCapture(source)
	# 
	# -----------------------------------------------------
	# check status
	# -----------------------------------------------------
	#
	def good(self):
		return self.__resource.isOpened()
	# 
	# -----------------------------------------------------
	# read frame
	# -----------------------------------------------------
	#
	def read(self):
		good, frame = self.__resource.read()
		if not good:
			raise RuntimeError("camera::read frame failed")
		return frame
#
# ------------------------------------------------------------------------------------------------
# End
# ------------------------------------------------------------------------------------------------
#